**Внимание! Ведётся разработка. В будущем возможны изменения в коде без сохранения обратной совместимости!**
# Простой каркас для PHP сайта.
---
Пакет представляет собой набор классов, которые помогут обеспечить работу простого сайта.
В состав пакета входят следующие классы:
## AppException
Класс исключения. Текст этих исключений можно отображать пользователю без ограничений.
При наличии исключительной ситуации пытается откатить транзакцию БД если есть подключение к серверу баз данных и начата транзакция.
## Auth
Класс, обеспечивающий аутентификацию и авторизацию пользователей.
## DB
Класс-обёртка для PDO. Позволяет установить подключение к сереру баз данных и использовать это подключение для всех запросов сайта.
## HTML
Класс для формирования HTML оформления сайта. При работе испльзует пространоство имён Templates с необходимыми шаблонами.
## Sessions
Пользовательский обработчик сессий. Позволяет хранить длительное время информацию о сессиях пользователей в БД.
## Settings
Хранилище настроек сайта
## User
Класс, хранящий информацию о пользователе.

# Установка
## С использованием composer
Просто добавьте пакет fsa/neuronphp в список зависимостей composer.
Далее используйте стандартный автозагрузчик классов composer.
## Использование механизма автозагрузки классов PHP
Скопируйте папку classes (src/classes) в корень своего проекта. Остальные файлы
не являются обязательными. Для обеспечения автозагрузки классов создайте файл
common.php в корне вашего проекта со следующим содержимым:
```php
set_include_path(__DIR__.'/classes/');
spl_autoload_extensions('.php');
spl_autoload_register();
```
Далее просто подключайте этот файл перед использованием классов.

Если вам нужно сохранить существующие include_path, то замените первую строку:
```php
set_include_path(get_include_path(). PATH_SEPARATOR.__DIR__.'/classes/');
```
Если папка classes в вашем проекте уже существует, то во избежание конфиликтов.
можете переименовать её изменив соответствующим образом путь в команде
set_include_path.

## Инициализация классов перед использованием
Инициализацию необходимо проводить после того, как будет подключена автозагрука классов.

Инициализируем класс Settings и добаляем в него настройки сайта
```php
Settings::init(<<<CONFIG
{
  "site": {
    "title": "Мой сайт"
  },
  "session": {
    "name": "neuronphp",
    "time": 3600,
    "path": "/"
  },
  "admins": [1]
}
CONFIG
);
```
Инициализируем класс DB указывая параметры подключения к базе данных и задаём часовой пояс.
```php
DB::init("mysql:host=localhost;dbname=neuronphp;charset=utf8","username","password",'SET TIME_ZONE="Asia/Yekaterinburg"');
date_default_timezone_set("Asia/Yekaterinburg");
```
Устанавливаем обработчик исключительных ситуаций
```php
set_exception_handler('HTML::Exception');
```